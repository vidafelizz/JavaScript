<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>date2</title>
<script type="text/javascript">
function checkDate() {
	// 사용자가 입력한 날짜값
	var s = document.getElementById("pdate").value;
	document.write("구입한 날짜 : " + s + "<br>");
	var pdate = new Date(s); // 특정한 날짜&시각 생성
	var today = new Date();  // 시스템의 현재 날짜&시각
	document.write("구입타임스탬프 : " + pdate.getTime() + "밀리세컨드 <br>");
	// getTime() - 주어진 일시와 1970년 1월 1일 00시 00분 00초 사이의 간격(밀리초 단위)인
	// 타임스탬프라는 값을 반환
	document.write("현재타임스탬프 : " + today.getTime() + "밀리세컨드 <br>");
	
	var diff = today.getTime() - pdate.getTime();
	document.write("차이시간 : " + diff + " 밀리세컨드<br>");
	// diff를 24시간으로 나눔 (1000밀리초*60초*60분*24시간)
	document.write("일자로 환산 : " + diff / (1000*60*60*24) + "일 <br>");
	var days = Math.floor(diff / (1000*60*60*24)); // Math.floor() 소수점이하는 버림
	if (days > 30) {
		alert("30일 이내에만 교환 가능합니다.");
	} else {
		alert("교환 가능합니다.");
	}
}

</script>
</head>
<body>
구입날짜 : 
<input type="date" id="pdate">
<button type="button" onclick="checkDate()">검사</button>

</body>
</html>